(this["webpackJsonpmy-social-app"]=this["webpackJsonpmy-social-app"]||[]).push([[5],{401:function(e,t,c){"use strict";c.r(t);var r=c(151),n=c(0),s=c.n(n),j=c(16),i=c(192),u=c(1),a=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return e(Object(i.c)()),function(){e(Object(i.d)())}}),[]),Object(u.jsxs)("div",{children:["error"===t&&Object(u.jsx)("div",{children:"Some error occured, Please refresh the page"}),Object(u.jsx)(o,{}),Object(u.jsx)(l,{})]})},o=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(!1),c=Object(r.a)(t,2),s=c[0],i=c[1],a=Object(j.d)((function(e){return e.chat.messages}));return Object(n.useEffect)((function(){var t;s&&(null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}))}),[a]),Object(u.jsxs)("div",{style:{height:"550px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!s&&i(!0):s&&i(!1)},children:[a.map((function(e,t){return Object(u.jsx)(b,{message:e},e.id)})),Object(u.jsx)("div",{ref:e})]})},b=s.a.memo((function(e){var t=e.message;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:t.photo,style:{width:"30px"}})," ",Object(u.jsx)("b",{children:t.userName}),Object(u.jsx)("br",{}),t.message,Object(u.jsx)("hr",{})]})})),l=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(j.c)(),o=Object(j.d)((function(e){return e.chat.status}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(e){return s(e.currentTarget.value)},value:c})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{disabled:"ready"!==o,onClick:function(){c&&(a(Object(i.b)(c)),s(""))},children:"send"})})]})};t.default=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(a,{})})}}}]);
//# sourceMappingURL=5.ffa5a44e.chunk.js.map